// Generated by Create API
// https://github.com/CreateAPI/CreateAPI
//
// swiftlint:disable all

import Foundation
import NaiveDate

public struct StatusCheckPolicy: Codable {
    /// Example: "https://api.github.com/repos/octocat/Hello-World/branches/master/protection/required_status_checks"
    public var url: URL
    /// Example: true
    public var isStrict: Bool
    /// Example: ["continuous-integration/travis-ci"]
    public var contexts: [String]
    public var checks: [Check]
    /// Example: "https://api.github.com/repos/octocat/Hello-World/branches/master/protection/required_status_checks/contexts"
    public var contextsURL: URL

    public struct Check: Codable {
        /// Example: "continuous-integration/travis-ci"
        public var context: String
        public var appID: Int?

        public init(context: String, appID: Int? = nil) {
            self.context = context
            self.appID = appID
        }

        private enum CodingKeys: String, CodingKey {
            case context
            case appID = "app_id"
        }
    }

    public init(url: URL, isStrict: Bool, contexts: [String], checks: [Check], contextsURL: URL) {
        self.url = url
        self.isStrict = isStrict
        self.contexts = contexts
        self.checks = checks
        self.contextsURL = contextsURL
    }

    private enum CodingKeys: String, CodingKey {
        case url
        case isStrict = "strict"
        case contexts
        case checks
        case contextsURL = "contexts_url"
    }
}
